title: Building Software - Fortylines Solutions infrastructure
<h1>Introduction</h1>
<p>
Starting a software project and turning it into a business is always a thrilling time. Everything seems to move along easily and at a good pace when suddenly the first issue pops up, a quick workaround and on the way forward again. Then another issue appears. It is an annoying one but not related to the project at end. Maybe a dependency that has not triggered out a recompile. It takes half an hour to figure it out; recommendation is to execute &quot;make clean && make&quot; next time. It takes fifteen minutes to rebuild the project; we will live with it.
<p>
More issues on the project are now popping out at a rapid pace. It takes longer to bend the IT infrastructure into a state where an issue can be investigated and time is running out. Pressure is building up to show a prototype, something that works... anything. We have to justify the investment to keep cash flowing in. A few top engineers realize that part of the troubles today are exacerbated by an unreliable infrastructure to support the development team but they will stay quiet. Responsibilities are shared between developers excited to start something new and accountants excited to get quick return-on-investment. A few executives wander around the office as if the sky had fallen on their head. They start wondering whether Pray-for-a-miracle would be a viable strategy. Everyone wished we had started a Quality Assurance feedback loop earlier.
</p>
<p>
Starting an innovative software project, turning it into a business, making profit out of version two, is all but out of the ordinary. Heroic efforts are always necessary to achieve anything out of the ordinary. Nevertheless, as all heroes have gadgets to enhance their incredible innate abilities, developers will need a dose of magic to deliver amazing results. Some of that magic can be found inside fortylines solutions' development infrastructure. It is made up of thoughts, information and tools based on years of experience in software start-up engineering. Hopefully, you'll find them useful.
</p>
<h1>Software as a lifestyle</h1>
<p>
Building software systems, as any human activity that requires coordination of highly creative minds, is a very risky business. Ideas mature, stabilize and turn into processes. Quality control insures that, along the way, labor intensive organizations or automated computer systems slowly replace risk associated with individual contributors.
</p>
<p>
New and innovative projects have always relied one hundred and ten percent on talented people and these have always been very independent and never shy of expressing a lifestyle out of the ordinary. Each talent I have either met had a specific lifestyle that makes him or her creative and productive. If what you need is a team of talented people to work on a project, the policies and infrastructure of your project have to be carved around that fact.
</p>
<p>
The Internet did not bring back the mini-computers era; the time of centralized computers and teletype terminals is long gone. Today, each developer has his own machine that he carefully sets up to his own taste. Any policy that intents to keep engineers productive needs to account for a variety of <a href="doc/glossary.book#localMachine">local machines</a>. Very many of the brightest engineers I know have switched to a laptop as their primary development systems. They also work in different timezones even when physically in the same city. To avoid severely impacting productivity, systems should address intermittent network connectivity and limited live communications.
</p>
<p>
Different people have different interests and expertise. Some days one is very careful and dedicated about writing a piece of source code and some other days, the same one is following an idea, cutting corners on the way. It is individually very hard to differentiate a brilliant masterpiece from an uninspired realization. This is the root cause for most bugs and long reaching costly mistakes. Quality Control is far and foremost the art of mixing individual motivations and making <b>all</b> information available to each contributor. Design guidelines, code conventions, document templates, web-based source code browsers, automated e-mail of commit messages are examples of tools to achieve that goal.
</p>
<p>
Quality Control also guarantees that a new release of a project is <b>at least</b> as useful as the previous one. Testing for regressions is critical to make users happy and developers involved. Unit tests, integration tests and metrics tracking are among the tools used to automatically raise early warnings. 
</p>

<h1>Organization</h1>
<h2>Presentation</h2>
<p>
Fortylines solutions' <i>drop</i> system is based on a distributed version control system (here <a href="http://git-scm.com/">git</a>). At any time, each developer has <b>physical access to the entire software stack of a project</b>. That includes source code (of course), documentation website, bug reports, ... As a design philosophy, all bits of a project are replicated on each contributor's local machine. Contributors only need connect to the Internet to exchange code, documentation and ideas. Having each contributor <b>decides when to exchange their work</b> is a key component of keeping a team productive. 
</p>
<p>
As many human activities, releasing a quality piece of software requires coordination and integration of the work of many contributors, testing under multiple environments, editing for consistency, etc. I argue that it is better done through <b>mass communication</b> such as public speeches, books, TV broadcasts, etc. It has proved through the ages to be the most effective way to <b>distribute ideas</b>.
</p>
<p>Innovative products are, in a lot of ways, debates of ideas and need to be organized as such. A distributed infrastructure is thus primordial for thoughts and development purposes whereas an accessible forum is the backbone to release and publication activities.
</p>

<h2>Release Role</h2>
<p>
All components of a project are replicated on each contributor's local machine. As a result, at any time, any contributor's local machine can be elected to be the release (i.e golden reference) platform. Since any local machine is surely not configured to handle mass traffic that goes on with being a golden reference, there is, in practice, a dedicated machine that acts as release. The main emphasis in <i>drop</i> is that release is truly a &quot;role&quot; definition. There is nothing, nowhere in a <i>drop</i> system, as far as implementation and tools are concerned that can distinguish a random local machine from a release machine.
</p>
<p>
A release machine will see heavy traffic and the hardware needs to keep up with it. The machine can either be rented as a service, installed on a rented virtual server, or built on an in-house machine. Either way, setting it up follows the exact same procedure as setting up a contributor's local development machine. Best IT practices require to have a plan for <a href="doc/access.book">access control</a> and <a href="doc/integrity.book">data integrity</a> before any machine is booted. These areas are highly dependent on the software business you are building and no technology can provide turn-key solutions. Tools and policies beneficial for a project might not always be appropriate for another.
</p>

<h2>Building Code</h2>
<p>
Most projects today are not started out of the vacuum but instead rely heavily on third-party projects and source code. Unless those dependencies are carefully managed, it quickly becomes a nightmare to sustain effort on your own project instead of delving into troubles while installing third-party <a href="doc/packages.book">packages</a> on development machines. Package managers, configure scripts and the make utility are all useful pieces in an edit/compile/run cycle, though none of them is enough by itself. A complete <a href="doc/workspace.book">workspace</a> management strategy integrates all pieces together. Open source projects see their contributors split their time between the project and other things in their life. Some contributors disappear and new ones appear at random. The time it takes to bring up a new contributor into the edit/compile/run cycle is a direct measure of the effectiveness of the implemented workspace management strategy.
</p>
<h2>Forum</h2>
<p>
Today, coordination of many contributors is primary done through mailing lists, a shared source repository and web-based services. <a href="doc/services.book">Fortylines solutions servers</a> for mail and shared source repository are pretty conventional. The most interesting thing is that the servers live behind a firewall and no other machine is connected behind that firewall. As a design rule, there is no &quot;local&quot; network. All machines, either connected from a coffee shop or from the room next door, see the same firewall and connect to the servers by the same virtual private network settings.
</p>
<p>
The web-based services of a software organization usually includes static documents, an editable wiki, a bug tracking system, a source code browser and some ways to deliver nightly build results. All pieces are usually coming from different vendors with their own <a href="access.book#authentication">authentication</a> systems and technical implementation details.
</p>
<p>
Fortylines solutions approach to web services is to integrate all editable bits (code, web pages, bug reports, etc.) into the same distributed control version repository (git) and to provide tools to publish the repository as online documents.
<a href="/seed/index.book"></a>
</p>
<p>
For example, while source code and documentation are usually maintained and published separately, Fortylines solutions' <i>seed</i> product enables source code and other documents to cross-reference each other easily through nice web looking presentation of source files and urls embedded in comments.
</p>
<pre>
/* 
   This is a reference to &lt;a href="index.book"&gt;web-based documentation&lt;/a&gt;. 
*/

int main( int argc, char *argv[] ) {
    return 0;
}
</pre>
<p>is published as</p>
<pre>
<span class="comment">/* </span>
<span class="comment">   This is a reference to <a href="index.book">web-based documentation</a>.</span>
<span class="comment">*/</span>

<span class="identifier">int</span> <span class="identifier">main</span><span class="punctuator">(</span> <span class="identifier">int</span> <span class="identifier">argc</span><span class="punctuator">,</span> <span class="keyword">char</span> <span class="operator">*</span><span class="identifier">argv</span><span class="punctuator">[</span><span class="punctuator">]</span> <span class="punctuator">)</span> <span class="punctuator">{</span>
    <span class="keyword">return</span> <span class="decimalLiteral">0</span><span class="punctuator">;</span>
<span class="punctuator">}</span>
</pre>
<p>
<a href="/seed/src/seed.cc">browse sample repository</a>
</p>

<p>updated by <a href="/contributors/smirolo/profile.book">Sebastien Mirolo</a> on September 27th, 2009</p>
